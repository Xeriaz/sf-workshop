#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';

use App\Kernel;
use Symfony\Component\Console\Application;
use Symfony\Component\Console\CommandLoader\ContainerCommandLoader;

$application = new Application();

$kernel = new Kernel('dev', true);
$kernel->boot();

$commandLoader = new ContainerCommandLoader(
    $kernel->getContainer(),
    [
        'app:greet' => get_class($kernel->getContainer()->get('greeter.command')), // hack
    ]
);

$application->setCommandLoader($commandLoader);

$application->run();
